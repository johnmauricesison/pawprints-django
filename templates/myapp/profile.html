{% extends "myapp/base.html" %}
{%load static%}


{% block title %}
    Pawprints
{% endblock %}

{% block additional_css %}
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'blog/profile.css' %}">
{%endblock%}
{%block content%}
  <body>
    <div class="main-container">
      <div class="rectangle"><span class="paws-print">PawsPrint</span></div>
      <div class="flex-row-e">
        <div class="rectangle-1">
          <button class="report-case">
            <a href="{%url 'cases' %}">
              <span class="rectangle-2">Report Case</span>
              <div class="plus"></div>
            </a>
          </button>
          <div class="grid"></div>
          <a href="{%url 'dashboard' %}">
            <span class="dashboard">Dashboard</span>
          </a>
          <div class="search"></div>
          <a href="{% url 'lostpets'%}">
            <span class="lost-pets">Lost Pets</span>
          </a>
          <div class="paw"></div>
          <a href="{%url 'adoption' %}">
            <span class="adoption">Adoption</span>
          </a>
          <div class="calendar"></div>
          <a href="{%url 'events' %}">
            <span class="events">Events</span>
          </a>
          <div class="user"></div>
          <a href="{%url 'profile' %}">
            <span class="profile">Profile</span>
          </a>
          <div class="settings"></div>
          <a href="{%url 'wset' %}">
            <span class="settings-4">Settings</span>
          </a>
          <div class="help"></div>
          <a href="{%url 'about' %}">
            <span class="help-5">About</span>
          </a>
          <span class="terms-and-conditions">Terms and Conditions</span>
          <div class="terms-and-conditions-6"></div>
          <div class="logout"></div>
          <a href="{%url 'land' %}">
            <span class="logout-7">Logout</span>
          </a>
        </div>

        <span class="user-profile-6">USER PROFILE</span>
        <form method="POST" action="/profile" enctype="multipart/form-data">
          {% csrf_token %}
          <input type="file" id="file-upload" name="picture" size="" accept="image/*" onchange="previewImage(event)" required>
          <label for="file-upload" class="file"></label>
          <img id="image-preview" src="#" alt="" class="rectangle-6">
          {% if profile.picture %}
          <img src="{{ profile.picture.url }}" alt="" class="rectangle-6">
          {% else %}
          <p>No picture uploaded</p>
          {% endif %}
          <span class="john-maurice-p-sison">{{profile.fname}} {% if profile.mname %} {{ profile.mname }}{% endif %} {{profile.lname}}</span>
          <span class="lucena-city-quezon-province">{{profile.city}}</span>

          <input type="text" class="first-name" placeholder="First Name:" name="fname" value="{{profile.fname |default_if_none:''}}" required>
          <input type="text" class="middle-name" placeholder="Middle Name:" name="mname" value="{{profile.mname |default_if_none:''}}" required>
          <input type="text" class="last-name" placeholder="Last Name:" name="lname" value="{{profile.lname |default_if_none:''}}" required>
          

            <input type="text" class="email-address" placeholder="Email Address:" name="email" value="{{profile.email |default_if_none:''}}" required>
            <input type="text" class="contact-no" placeholder="Contact No:" name="contact_no" value="{{profile.contact_no |default_if_none:''}}">
            <select name="gender" class="gender" id="gender">
              <option value="" disabled selected>Gender</option>
              <option value="Male"{% if profile.gender == 'Male' %} selected {% endif %}>Male</option>
              <option value="Female" {% if profile.gender == 'Female' %} selected {% endif %}>Female</option>
              <option value="Non-Binary" {% if profile.gender == 'Non-Binary' %} selected {% endif %}>Non-Binary</option>
              <option value="Other" {% if profile.gender == 'Other' %} selected {% endif %}>Other</option>
            </select>

            <button type="submit" class="button-rectangle">SAVE CHANGES</button>
          
            <input type="text" class="city-province" placeholder="City/Province:" name="city" value="{{profile.city|default_if_none:''}}">
            
            <input type="text" class="age" placeholder="Age:" name="age" value="{{profile.age|default_if_none:''}}">
            <input type="date" class="birth-date" placeholder="Birth Date:" name="bday" value="{{profile.bday|default_if_none:''}}">
            
          
            <input type="text" class="course" placeholder="Course:" name="course" value="{{profile.course|default_if_none:''}}">
            <input type="text" class="text-24" placeholder="School:" name="school" value="{{profile.school|default_if_none:''}}">
            <input type="text"  class="text-25" placeholder="No. of Pets: " name="numpets" value="{{profile.numpets|default_if_none:''}}">
            
            <input type="text" name="tagone" class="text-26" placeholder="Tag 1" value="{{profile.tagone|default_if_none:''}}">
            <input type="text" name="tagtwo" class="text-27" placeholder="Tag 2" value="{{profile.tagtwo|default_if_none:''}}">
            <input type="text" name="tagthree" class="text-28" placeholder="Tag 3" value="{{profile.tagthree|default_if_none:''}}">

            
            <input type="text" name="caption" class="text-29" placeholder="Caption:" value="{{profile.caption|default_if_none:''}}">
        </form>
      </div>
    </div>

    <script>
      function previewImage(event) {
          var input = event.target;
          var reader = new FileReader();
          reader.onload = function(){
              var dataURL = reader.result;
              var img = document.getElementById('image-preview');
              img.src = dataURL;
              img.style.display = 'block';
          };
          reader.readAsDataURL(input.files[0]);
      }
    </script>

  </body>
{%endblock%}
